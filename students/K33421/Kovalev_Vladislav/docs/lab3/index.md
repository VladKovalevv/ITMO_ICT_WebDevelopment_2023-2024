# ЛАБОРАТОРНАЯ РАБОТА №3

#РЕАЛИЗАЦИЯ СЕРВЕРНОЙ ЧАСТИ ПРИЛОЖЕНИЯ СРЕДСТВАМИ

#DJANGO И DJANGORESTFRAMEWORK

## Модели

### Модель `Company`
Представляет сущность фирмы-производителя.

#### Атрибуты:
- `name`: Название фирмы, строка до 300 символов.

### Модель `Product`
Описывает товар, выставляемый на торги.

#### Атрибуты:
- `code`: Уникальный код товара, строка до 100 символов.
- `name`: Название товара, строка до 300 символов.
- `unit`: Единица измерения товара, строка до 100 символов.
- `shelf_life`: Гарантийный срок хранения, целое число.

### Модель `BrokerCompany`
Представляет компанию, в которой работают брокеры.

#### Атрибуты:
- `name`: Название компании, строка до 100 символов.
- `income`: Доход компании, число с плавающей точкой, по умолчанию 0.

### Модель `Broker`
Описывает брокера, выставляющего товары на торги.

#### Атрибуты:
- `name`: Имя брокера, строка до 100 символов.
- `company`: Ссылка на компанию брокера (`BrokerCompany`).
- `income`: Доход брокера, число с плавающей точкой, по умолчанию 0.

### Модель `Consignment`
Описывает партию товаров, выставляемую на торги.

#### Атрибуты:
- `broker`: Ссылка на брокера (`Broker`).
- `date_sold`: Дата продажи, тип `DateField`.
- `num`: Номер партии, строка до 20 символов.
- `cost`: Стоимость товаров в партии, число с плавающей точкой.
- `prepayment`: Предоплата, булево значение.

### Модель `ProductByCompany`
Связывает товар с фирмой-производителем и партией товаров.

#### Атрибуты:
- `company`: Ссылка на фирму (`Company`).
- `product`: Ссылка на товар (`Product`).
- `consignment`: Ссылка на партию товаров (`Consignment`).
- `created`: Дата производства товара, тип `DateField`.


# Документация API для системы торгов на товарно-сырьевой бирже

## Обзор
API предоставляет набор конечных точек для управления торгами на товарно-сырьевой бирже, включая работу с партиями товаров, компаниями, брокерскими компаниями, брокерами, товарами и связью товаров с компаниями.

### `ConsignmentViewSet`
Обрабатывает операции CRUD для партий товаров.

#### Методы:
- GET, POST, PUT, DELETE стандартные для `ModelViewSet`.

#### Права доступа:
- Требуется аутентификация.

### `CompanyViewSet`
Обрабатывает операции CRUD для компаний и предоставляет дополнительные методы.

#### Методы:
- GET, POST, PUT, DELETE стандартные для `ModelViewSet`.
- `sold_most`: Возвращает компанию, заработавшую максимальную сумму денег.

#### Права доступа:
- Требуется аутентификация.

### `BrokerCompanyViewSet`
Обрабатывает операции CRUD для брокерских компаний и предоставляет дополнительные методы.

#### Методы:
- GET, POST, PUT, DELETE стандартные для `ModelViewSet`.
- `never_sold`: Возвращает товары, которые никогда не выставлялись на продажу заданной компанией.
- `salaries`: Возвращает зарплаты всех брокеров заданной компании.

#### Права доступа:
- Требуется аутентификация.

### `BrokerViewSet`
Обрабатывает операции CRUD для брокеров.

#### Методы:
- GET, POST, PUT, DELETE стандартные для `ModelViewSet`.

#### Права доступа:
- Требуется аутентификация.

### `ProductViewSet`
Обрабатывает операции CRUD для товаров и предоставляет дополнительные методы.

#### Методы:
- GET, POST, PUT, DELETE стандартные для `ModelViewSet`.
- `count_all`: Подсчитывает количество единиц товара каждого вида, выставленного на продажу до заданной даты.

#### Права доступа:
- Требуется аутентификация.

### `ProductByCompanyViewSet`
Обрабатывает операции CRUD для связи товаров с компаниями и предоставляет дополнительные методы.

#### Методы:
- GET, POST, PUT, DELETE стандартные для `ModelViewSet`.
- `expired`: Возвращает все факты выставления на продажу товаров с просроченной годностью.

#### Права доступа:
- Требуется аутентификация.

### `BrokerWithCompanyViewSet`
Обрабатывает операции CRUD для брокеров и включает информацию о компаниях.

#### Методы:
- GET, POST, PUT, DELETE стандартные для `ModelViewSet`.

#### Права доступа:
- Требуется аутентификация.
